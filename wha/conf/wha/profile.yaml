properties:
  log4j.configuration: file:conf/wha/log4j-wha.properties
  flywheel.logging.splunk.url: ${f:notNull(env.FLYWHEEL_SPLUNK_URL, "Splunk URL cannot be null")}
  flywheel.logging.splunk.token: ${f:secret(f:notNull(env.FLYWHEEL_SPLUNK_TOKEN, "Splunk token cannot be null"))}
  flywheel.logging.splunk.index: ${f:notNull(env.FLYWHEEL_SPLUNK_INDEX, "Splunk index cannot be null")}
  flywheel.logging.splunk.source: ${f:notNull(env.FLYWHEEL_SPLUNK_INDEX, "Splunk source cannot be null")}

launchers: 
- type: au.com.williamhill.flywheel.ConfigLauncher
  backplane:
    type: au.com.williamhill.flywheel.edge.backplane.NoOpBackplane
  serverConfig:
    port: 8080
    path: /broker
    idleTimeoutMillis: 300000
    pingIntervalMillis: 60000
    scanIntervalMillis: 1000
    servlets:
    - path: /health/*
      name: health
      servletClass: au.com.williamhill.flywheel.health.HealthServlet  
    endpointConfig:
      highWaterMark: ${maxLong}
  plugins:
  - type: au.com.williamhill.flywheel.beacon.Beacon
    topic: time
    intervalMillis: 1000
    format: "yyyy-MM-dd'T'HH:mm:ssZ"
  logExcludeTopics:
  - time